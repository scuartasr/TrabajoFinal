knitr::opts_chunk$set(echo = FALSE)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
save(cong.muestreo, file = "Muestra.csv")
datos <- read_csv("Datos.csv", col_types = cols(id = col_integer(),
Conglomerado = col_integer(), Fecha = col_date(format = "%d/%m/%Y"),
Comentarios = col_integer(), Peyorativos = col_integer(),
Ofensivos = col_integer()))
datos = na.omit(datos)
View(cong.muestreo)
View(datos)
save(cong.muestreo, "./Muestra.csv")
save(cong.muestreo, "../Muestra.csv")
save(cong.muestreo, "TrabajoFinal/Muestra.csv")
save(cong.muestreo, "\\TrabajoFinal\\Muestra.csv")
save(cong.muestreo, file = 'TrabajoFinal/muestreo.csv')
write.csv(cong.muestreo, file = 'TrabajoFinal/muestreo.csv')
write.csv(cong.muestreo, file = './muestreo.csv')
knitr::opts_chunk$set(echo = FALSE)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read_csv("Datos.csv", col_types = cols(id = col_integer(),
Conglomerado = col_integer(), Fecha = col_date(format = "%d/%m/%Y"),
Comentarios = col_integer(), Peyorativos = col_integer(),
Ofensivos = col_integer()))
datos = na.omit(datos)
View(datos)
knitr::opts_chunk$set(echo = FALSE)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", col_types = cols(id = col_integer(),
Conglomerado = col_integer(), Fecha = col_date(format = "%d/%m/%Y"),
Comentarios = col_integer(), Peyorativos = col_integer(),
Ofensivos = col_integer()))
datos <- read.csv("Datos.csv")
View(datos)
datos <- read.csv("Datos.csv", encoding = "UTF-8")
View(datos)
knitr::opts_chunk$set(echo = FALSE)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
View(datos)
library(tidyverse)
install.packages(c("factoextra", "FactoClass", "GGally", "tidyverse", "DT", "reticulate"))
library(tidyverse)
datos = datos %>%
mutate(Fecha = as.Date(Fecha))
View(datos)
?as.Date
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y"))
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y"))
View(datos)
?rename
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y")) %>%
rename(Encuestador = X.U.FEFF.Encuestador)
View(datos)
resumen.congl = datos %>%
group_by(Conglomerado) %>%
summarise(Total.coment = n(Comentarios)) %>%
summarise(Total.peyor = n(Peyorativos)) %>%
summarise(Total.anon = n(Ofensivos))
resumen.congl = datos %>%
group_by(Conglomerado) %>%
summarise(Total.coment = sum(Comentarios)) %>%
summarise(Total.peyor = sum(Peyorativos)) %>%
summarise(Total.anon = sumn(Ofensivos))
resumen.congl = datos %>%
group_by(Conglomerado) %>%
summarise(Total.coment = sum(Comentarios)) %>%
summarise(Total.peyor = sum(Peyorativos)) %>%
summarise(Total.anon = sumn(Ofensivos))
resumen.congl = datos %>%
group_by(Conglomerado) %>%
summarise(Comentarios = sum(Comentarios)) %>%
summarise(Peyorativos  = sum(Peyorativos)) %>%
summarise(Ofensivos = sumn(Ofensivos))
resumen.congl = datos %>%
group_by(as.factor(Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
summarise(Peyorativos  = sum(Peyorativos)) %>%
summarise(Ofensivos = sumn(Ofensivos))
resumen.congl = datos %>%
group_by(as.factor(Conglomerado)) %>%
summarise(Comentarios = sum(datos$Comentarios)) %>%
summarise(Peyorativos  = sum(datos$Peyorativos)) %>%
summarise(Ofensivos = sumn(datos$Ofensivos))
resumen.congl = datos %>%
group_by(as.factor(Conglomerado)) %>%
summarise(Comentarios = sum(datos$Comentarios)) %>%
summarise(Peyorativos  = sum(datos$Peyorativos)) %>%
summarise(Ofensivos = sum(datos$Ofensivos))
View(resumen.congl)
resumen.congl = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(datos$Comentarios)) %>%
summarise(Peyorativos  = sum(datos$Peyorativos)) %>%
summarise(Ofensivos = sum(datos$Ofensivos))
resumen.congl = datos %>%
group_by(as.factor(datos$Conglomerado))
View(resumen.congl)
resumen.congl = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios))
View(resumen.congl)
View(datos)
View(datos)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
View(comen.c)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
ofens.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Ofensivos = sum(Ofensivos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
View(datos)
View(ofens.c)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
anon.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Ofensivos = sum(Ofensivos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`) %>%
rename(Anonimo = Ofensivos)
peyor.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Peyorativos = sum(Peyotativos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
peyor.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Peyorativos = sum(Peyorativos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
View(ofens.c)
View(peyor.c)
View(ofens.c)
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y")) %>%
rename(Encuestador = X.U.FEFF.Encuestador)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
anon.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Ofensivos = sum(Ofensivos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`) %>%
rename(Anonimo = Ofensivos)
peyor.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Peyorativos = sum(Peyorativos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
View(anon.c)
View(peyor.c)
View(comen.c)
resumen = merge(comen.c, anon.c, by = Conglomerado)
resumen = merge(comen.c, anon.c, by = "Conglomerado")
View(resumen)
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y")) %>%
rename(Encuestador = X.U.FEFF.Encuestador)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
anon.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Ofensivos = sum(Ofensivos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`) %>%
rename(Anonimo = Ofensivos)
peyor.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Peyorativos = sum(Peyorativos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
resumen = merge(comen.c, peyor.c, by = "Conglomerado")
resumen = merge(resumen, anon.c, by = "Conglomerado")
install.packages(c("gridBase", "gridExtra"))
library(gridExtra)
grid.table(resumen)
kable(resumen)
library(knitr)
kable(resumen)
?kable
suma.pey.c = sum(resumen[, 2])
suma.pey.c = sum(resumen[, 2])
congs = nrow(resumen)
est.m.c = suma.pey.c / congs
View(datos)
mean(datos[, 6])
mean(datos[, 7])
est.t.c = Mo * est.m.c
Mo = 2295
est.t.c = Mo * est.m.c
format(scientific = F)
format(est.t.c, scientific = F)
options(scipen=999)
N = 153
Mo = M * N
M = 15
options(scipen=999)
N = 153
Mo = M * N
est.t.c = N * est.m.c
totales.cong = as.vector(resumen[, 3])
totales.cong
est.m.c
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(gridExtra)
library(knitr)
set.seed(20220126)
# Aleatorización
indices = seq(1, 2295)
aleatorio = sample(indices,
size = 2295,
replace = FALSE)
# Matriz
auxiliar = matrix(aleatorio, ncol = 15, byrow = T)
# Conglomerados
conglomerados = as.data.frame(auxiliar)
save(conglomerados, file = "Conglomerados.RData") # ¿Guardar como .csv?
set.seed(1037670103)
num.congl = seq(1, 153)
muestra = sort(sample(num.congl,
size = 20,
replace = FALSE))
cong.muestreo = conglomerados[which(indices %in% muestra),]
write.csv(cong.muestreo, file = './muestreo.csv')
datos <- read.csv("Datos.csv", encoding = "UTF-8")
datos = na.omit(datos)
datos = datos %>%
mutate(Fecha = as.Date(Fecha, format = "%d/%m/%Y")) %>%
rename(Encuestador = X.U.FEFF.Encuestador)
comen.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Comentarios = sum(Comentarios)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
anon.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Ofensivos = sum(Ofensivos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`) %>%
rename(Anonimo = Ofensivos)
peyor.c = datos %>%
group_by(as.factor(datos$Conglomerado)) %>%
summarise(Peyorativos = sum(Peyorativos)) %>%
rename(Conglomerado = `as.factor(datos$Conglomerado)`)
resumen = merge(comen.c, peyor.c, by = "Conglomerado")
resumen = merge(resumen, anon.c, by = "Conglomerado")
kable(resumen, caption = "Resultados en los conglomerados del estudio piloto")
suma.pey.c = sum(resumen[, 3])
congs = nrow(resumen)
est.m.c = suma.pey.c / congs
M = 15
est.m = est.m.c/M
options(scipen=999)
N = 153
Mo = M * N
est.t.c = N * est.m.c
totales.cong = as.vector(resumen[, 3])
#paso1 = (totales.cong - )
paso1 = (totales.cong - est.m.c)^2
paso1
(44-41.15)^2
(14-41.15)^2
paso2 = paso1 / (n.ep - 1)
n.ep = 20
totales.cong = as.vector(resumen[, 3])
paso1 = (totales.cong - est.m.c)^2
paso2 = paso1 / (n.ep - 1)
paso2
8.1225/19
N
est.var.tc = paso2 * N * (N - n.ep) / n.ep
est.var.tc = sum(paso2) * N * (N - n.ep) / n.ep
sqrt(est.var.tc)
# Media
est.var.m = est.var.tc / (Mo^2)
sqrt(est.var.m)
qnorm(0.05, lower.tail = FALSE)
alfa = 0.05
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.1
Bm = epsilon * est.m
n0.t = (z * sum(paso2))/(Bm * M)
n0.t = ((z * sum(paso2))/(Bm * M))^2
z
sum(paso2)
z * sum(paso2) / (B * M)
B
alfa = 0.05
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.1
Bm = epsilon * est.m
(z * sum(paso2)) / (Bm * M)
((z * sum(paso2)) / (Bm * M))^2
1761803/(1+1761803/N)
alfa = 0.10
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.1
Bm = epsilon * est.m
n0.m = ((z * sum(paso2))/(Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
Bm
n.m
z
alfa = 0.05
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.1
Bm = epsilon * est.m
n0.m = ((z * sum(paso2))/(Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
z
sum(paso2)
n0.m = ((z^2) * sum(paso2))/((Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
n.m
Bm
M
sum((totales.cong - est.m.c)^2)/19
pas2
paso2
sum(paso2)
alfa = 0.10
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.15
Bm = epsilon * est.m
n0.m = ((z^2) * sum(paso2))/((Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
Bm
M
Bm
alfa = 0.10
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.15
Bm = 1
n0.m = ((z^2) * sum(paso2))/((Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
n.m
alfa = 0.10
z = qnorm((alfa/2), mean  = 0, sd = 1, lower.tail = FALSE)
epsilon = 0.15
Bm = epsilon * est.m
n0.m = ((z^2) * sum(paso2))/((Bm * M))^2
n0.m = ((z^2) * sum(paso2))/((Bm * M))^2
n.m = n0.m / (1 + n0.m/N)
celin(n.m)
celing(n.m)
ceiling(n.m)
Bt = epsilon * est.t.c
D = (Bt / (z * N))^2
n.t = (N * sum(paso2))/(N*D + sum(paso2))
